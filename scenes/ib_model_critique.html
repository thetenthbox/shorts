<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IB Model Critique (Full)</title>
  <style>
    @import url('https://fonts.cdnfonts.com/css/cmu-serif');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: #1a1a1a;
      font-family: system-ui, -apple-system, sans-serif;
    }

    .shorts-container {
      width: 1080px;
      height: 1920px;
      position: relative;
      overflow: hidden;
      transform: scale(0.4);
      transform-origin: center center;
    }

    /* Layer 1: White backdrop with plus pattern (bottom) */
    .white-backdrop {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #fff;
      z-index: 1;
    }

    .text-content {
      position: absolute;
      top: 120px;
      left: 80px;
      right: 80px;
      z-index: 2;
      font-family: 'CMU Serif', Georgia, serif;
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
    }

    .text-content.swipe-out {
      transform: translateX(-100%);
      opacity: 0;
    }

    .bullet {
      display: flex;
      gap: 24px;
      margin-bottom: 50px;
      opacity: 0;
      transform: translateY(20px);
    }

    .bullet.animate {
      animation: fadeUp 0.5s ease-out forwards;
    }

    .bullet-dot {
      font-size: 48px;
      color: #374151;
      line-height: 1.4;
    }

    .bullet-text {
      font-size: 48px;
      color: #1f2937;
      line-height: 1.4;
    }

    .quote-text {
      font-style: italic;
    }

    /* Excel DCF Spreadsheet */
    .excel-container {
      position: absolute;
      top: 680px;
      left: 40px;
      right: 40px;
      z-index: 2;
      opacity: 0;
      transform: translateY(20px);
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
    }

    .excel-container.animate {
      animation: fadeUp 0.5s ease-out forwards;
    }

    .excel-container.swipe-out {
      transform: translateX(-100%) !important;
      opacity: 0 !important;
    }

    .spreadsheet {
      background: #fff;
      border: 2px solid #6b7280;
      font-family: 'Consolas', 'Courier New', monospace;
      font-size: 22px;
      border-collapse: collapse;
      width: 100%;
    }

    .spreadsheet td {
      border: 1px solid #d1d5db;
      padding: 12px 16px;
      color: #374151;
      text-align: right;
      min-width: 90px;
    }

    .spreadsheet td.label-col {
      text-align: left;
      background: #f9fafb;
      font-weight: 500;
      min-width: 200px;
    }

    .spreadsheet td.header {
      background: #e5e7eb;
      font-weight: 600;
      text-align: center;
    }

    .spreadsheet td.dash {
      color: #9ca3af;
    }

    /* Zoom-out callout cells */
    .callout-container {
      position: absolute;
      top: 680px;
      left: 40px;
      right: 40px;
      z-index: 3;
      pointer-events: none;
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
    }

    .callout-container.swipe-out {
      transform: translateX(-100%);
      opacity: 0;
    }

    .callout {
      position: absolute;
      display: flex;
      background: #fff;
      border: 3px solid #1e40af;
      border-radius: 8px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.2);
      opacity: 0;
      transform: scale(0.5);
      transform-origin: left center;
    }

    .callout.animate {
      animation: zoomOut 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .callout-label {
      background: #1e40af;
      color: #fff;
      padding: 20px 28px;
      font-family: 'Consolas', monospace;
      font-size: 36px;
      font-weight: 600;
    }

    .callout-value {
      background: #fff;
      color: #1e40af;
      padding: 20px 28px;
      font-family: 'Consolas', monospace;
      font-size: 36px;
      font-weight: 700;
    }

    .callout-1 { top: 60px; left: 50px; }
    .callout-2 { top: 200px; left: 120px; }
    .callout-3 { top: 340px; left: 80px; }

    /* MCQ Question Section */
    .mcq-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 80px;
      z-index: 4;
      opacity: 0;
      pointer-events: none;
    }

    .mcq-container.active {
      opacity: 1;
      pointer-events: auto;
    }

    .mcq-question {
      font-family: 'CMU Serif', Georgia, serif;
      font-size: 52px;
      color: #1f2937;
      text-align: center;
      max-width: 900px;
      margin-bottom: 80px;
      line-height: 1.3;
      opacity: 0;
      transform: translateY(8px);
    }

    .mcq-question.animate {
      animation: fadeUp 0.4s ease-out forwards;
    }

    .mcq-options {
      display: flex;
      flex-direction: column;
      gap: 24px;
      width: 100%;
      max-width: 900px;
    }

    .mcq-option {
      background: #fff;
      border: 2px solid #d1d5db;
      border-radius: 12px;
      padding: 28px 36px;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 36px;
      color: #374151;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      opacity: 0;
      transform: scale(0.95);
      cursor: pointer;
      transition: all 0.2s;
    }

    .mcq-option:hover {
      border-color: #1e40af;
      box-shadow: 0 4px 12px rgba(30,64,175,0.15);
    }

    .mcq-option.animate {
      animation: popIn 0.25s ease-out forwards;
    }

    .mcq-label {
      font-weight: 700;
      color: #1e40af;
      margin-right: 12px;
    }

    /* ================================
       Scene containers (post-MCQ)
       ================================ */

    .scene-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 4;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease-out;
    }

    .scene-layer.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* Scene 3: Reality check */
    .reality-title {
      position: absolute;
      top: 180px;
      left: 80px;
      right: 80px;
      font-family: 'CMU Serif', Georgia, serif;
      font-size: 52px;
      color: #1f2937;
      text-align: center;
      opacity: 0;
      transform: translateY(8px);
    }

    .reality-title.animate {
      animation: fadeUp 0.4s ease-out forwards;
    }

    .reality-cards {
      position: absolute;
      top: 360px;
      left: 80px;
      right: 80px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }

    .reality-card {
      background: #fff;
      border: 2px solid #d1d5db;
      border-radius: 14px;
      padding: 30px 26px;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 34px;
      font-weight: 650;
      color: #374151;
      opacity: 0;
      transform: scale(0.95);
      box-shadow: 0 2px 10px rgba(0,0,0,0.06);
      text-align: center;
    }

    .reality-card.animate {
      animation: popIn 0.25s ease-out forwards;
    }

    .handoff {
      position: absolute;
      top: 560px;
      left: 140px;
      right: 140px;
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transform: translateY(10px);
    }

    .handoff.animate {
      animation: fadeUp 0.4s ease-out forwards;
    }

    .handoff-row {
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .handoff-dot {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: #1e40af;
      opacity: 0.8;
    }

    .handoff-arrow {
      width: 46px;
      height: 4px;
      background: #9ca3af;
      position: relative;
      border-radius: 999px;
      transform-origin: left center;
      transform: scaleX(0);
    }

    .handoff-arrow.draw {
      animation: arrowDraw 0.5s ease-out forwards;
    }

    .handoff-arrow::after {
      content: '';
      position: absolute;
      right: -2px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
      border-left: 10px solid #9ca3af;
    }

    @keyframes arrowDraw {
      0% { transform: scaleX(0); }
      100% { transform: scaleX(1); }
    }

    /* Scene 4: Goal (WIN -> ALIGN FAST / SHIP CLEAN) */
    .goal-center {
      position: absolute;
      top: 320px;
      left: 80px;
      right: 80px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 36px;
    }

    .win-card {
      position: relative;
      padding: 34px 70px;
      border-radius: 16px;
      background: #fff;
      border: 2px solid #d1d5db;
      box-shadow: 0 2px 10px rgba(0,0,0,0.06);
      opacity: 0;
      transform: scale(0.95);
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 120px;
      font-weight: 800;
      color: #111827;
      letter-spacing: 6px;
    }

    .win-card.animate {
      animation: popIn 0.25s ease-out forwards;
    }

    .win-strike {
      position: absolute;
      left: 10%;
      right: 10%;
      top: 50%;
      height: 10px;
      background: #dc2626;
      border-radius: 999px;
      transform-origin: left center;
      transform: scaleX(0);
    }

    .win-strike.draw {
      animation: arrowDraw 0.35s ease-out forwards;
    }

    .goal-pills {
      display: flex;
      gap: 16px;
      opacity: 0;
      transform: translateY(10px);
    }

    .goal-pills.animate {
      animation: fadeUp 0.4s ease-out forwards;
    }

    .pill {
      padding: 18px 26px;
      border-radius: 999px;
      background: #dbeafe;
      color: #1e40af;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 34px;
      font-weight: 750;
      border: 2px solid rgba(30,64,175,0.25);
    }

    /* Scene 5: Playbook */
    .playbook {
      position: absolute;
      top: 170px;
      left: 80px;
      right: 80px;
      display: flex;
      flex-direction: column;
      gap: 22px;
    }

    .step-card {
      background: #fff;
      border: 2px solid #e5e7eb;
      border-radius: 16px;
      padding: 26px 28px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.06);
      opacity: 0;
      transform: translateY(12px);
    }

    .step-card.animate {
      animation: fadeUp 0.5s ease-out forwards;
    }

    .step-title {
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 38px;
      font-weight: 800;
      color: #111827;
      margin-bottom: 10px;
    }

    .step-quote {
      font-family: 'CMU Serif', Georgia, serif;
      font-size: 34px;
      color: #374151;
      line-height: 1.35;
      background: #f9fafb;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      padding: 18px 18px;
    }

    .step-sub {
      margin-top: 10px;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 28px;
      color: #6b7280;
    }

    /* Scene 6: Wrap + CTA */
    .wrap {
      position: absolute;
      top: 260px;
      left: 80px;
      right: 80px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 24px;
    }

    .wrap-tags {
      display: flex;
      flex-direction: column;
      gap: 16px;
      width: 100%;
      max-width: 900px;
    }

    .wrap-tag {
      background: #fff;
      border: 2px solid #d1d5db;
      border-radius: 14px;
      padding: 22px 26px;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 38px;
      font-weight: 750;
      color: #1f2937;
      opacity: 0;
      transform: scale(0.96);
    }

    .wrap-tag.animate {
      animation: popIn 0.25s ease-out forwards;
    }

    .cta {
      margin-top: 30px;
      font-family: 'CMU Serif', Georgia, serif;
      font-size: 44px;
      color: #1f2937;
      opacity: 0;
      transform: translateY(10px);
      text-align: center;
    }

    .cta.animate {
      animation: fadeUp 0.5s ease-out forwards;
    }

    @keyframes zoomOut {
      0% {
        opacity: 0;
        transform: scale(0.5);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes popIn {
      0% {
        opacity: 0;
        transform: scale(0.9);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes fadeUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .plus-pattern {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(#d1d5db 1px, transparent 1px),
        linear-gradient(90deg, #d1d5db 1px, transparent 1px);
      background-size: 80px 80px;
      opacity: 0.5;
    }

    .plus-pattern::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: radial-gradient(circle, #9ca3af 3px, transparent 3px);
      background-size: 80px 80px;
      background-position: 40px 40px;
    }

    /* Layer 2: Blue panel with IB CLINIC */
    .blue-panel {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #1e3a5f;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 5;
    }

    .blue-panel.animate-exit {
      animation: slideOutRight 0.6s ease-in-out forwards;
    }

    .title {
      font-size: 140px;
      font-weight: 800;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 10px;
    }

    @keyframes slideOutRight {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(100%);
      }
    }

    /* Layer 3: Wall Street Image (top) */
    .wallstreet-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 10;
    }

    .wallstreet-img {
      position: absolute;
      top: 0;
      left: 0;
      width: 200%;
      height: 100%;
      object-fit: cover;
      object-position: left center;
      transform: scale(1.3);
      transform-origin: center center;
      filter: brightness(0.8);
    }

    .wallstreet-img.animate-pan {
      animation: panRight 2.5s ease-in-out forwards;
    }

    .wallstreet-container.animate-exit {
      animation: slideOutDown 0.6s ease-in-out forwards;
    }

    @keyframes panRight {
      0% {
        transform: scale(1.3) translateX(0);
      }
      100% {
        transform: scale(1.4) translateX(-15%);
      }
    }

    @keyframes slideOutDown {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(100%);
      }
    }

    /* Controls */
    .controls {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 100;
    }

    .btn {
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      background: #1e3a5f;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s, background 0.2s;
    }

    .btn:hover {
      transform: scale(1.05);
    }

    /* Side navigation */
    .side-nav {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 100;
    }

    .side-btn {
      width: 140px;
      padding: 10px 14px;
      font-size: 12px;
      font-weight: 600;
      background: #374151;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      text-align: left;
      transition: background 0.2s;
    }

    .side-btn:hover {
      background: #1e3a5f;
    }

    .side-btn.active {
      background: #1e40af;
    }
  </style>
</head>
<body>
  <div class="shorts-container">
    <!-- Layer 1: White backdrop with plus pattern -->
    <div class="white-backdrop">
      <div class="plus-pattern"></div>
      <div class="text-content">
        <div class="bullet" id="bullet1">
          <span class="bullet-dot">•</span>
          <span class="bullet-text">Bulge bracket on Wall Street.</span>
        </div>
        <div class="bullet" id="bullet2">
          <span class="bullet-dot">•</span>
          <span class="bullet-text">Senior associate is ripping your model apart.</span>
        </div>
      </div>

      <!-- DCF Spreadsheet -->
      <div class="excel-container" id="spreadsheet">
        <table class="spreadsheet">
          <tr>
            <td class="header"></td>
            <td class="header">2024</td>
            <td class="header">2025</td>
            <td class="header">2026</td>
            <td class="header">2027</td>
            <td class="header">2028</td>
          </tr>
          <tr>
            <td class="label-col">Revenue</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">EBITDA</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">FCF</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">Discount Factor</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">PV of FCF</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">Terminal Value</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
        </table>
      </div>

      <!-- Zoom-out callouts -->
      <div class="callout-container">
        <div class="callout callout-1" id="callout1">
          <div class="callout-label">WACC</div>
          <div class="callout-value">9.5%</div>
        </div>
        <div class="callout callout-2" id="callout2">
          <div class="callout-label">Exit Multiple</div>
          <div class="callout-value">8.0x</div>
        </div>
        <div class="callout callout-3" id="callout3">
          <div class="callout-label">Growth Rate</div>
          <div class="callout-value">3.0%</div>
        </div>
      </div>

      <!-- MCQ Section (Scene 2) -->
      <div class="mcq-container" id="mcqContainer">
        <div class="mcq-question" id="mcqQuestion">
          So, what do you do?
        </div>
        <div class="mcq-options">
          <div class="mcq-option" id="optionA">
            <span class="mcq-label">A)</span>
            <span>Apologize + keep your head down (protect the offer).</span>
          </div>
          <div class="mcq-option" id="optionB">
            <span class="mcq-label">B)</span>
            <span>Defend the model (you’re right).</span>
          </div>
          <div class="mcq-option" id="optionC">
            <span class="mcq-label">C)</span>
            <span>Walk through their logic (even under time pressure).</span>
          </div>
        </div>
      </div>

      <!-- Scene 3: Reality Check -->
      <div class="scene-layer" id="realityLayer">
        <div class="reality-title" id="realityTitle">This conflict is normal in IB.</div>
        <div class="reality-cards">
          <div class="reality-card" id="realityCard1">Busy</div>
          <div class="reality-card" id="realityCard2">Stressed</div>
          <div class="reality-card" id="realityCard3">Missing context</div>
        </div>
        <div class="handoff" id="handoff">
          <div class="handoff-row">
            <div class="handoff-dot"></div><div class="handoff-arrow" id="ha1"></div>
            <div class="handoff-dot"></div><div class="handoff-arrow" id="ha2"></div>
            <div class="handoff-dot"></div><div class="handoff-arrow" id="ha3"></div>
            <div class="handoff-dot"></div><div class="handoff-arrow" id="ha4"></div>
            <div class="handoff-dot"></div><div class="handoff-arrow" id="ha5"></div>
            <div class="handoff-dot"></div>
          </div>
        </div>
      </div>

      <!-- Scene 4: Goal -->
      <div class="scene-layer" id="goalLayer">
        <div class="goal-center">
          <div class="win-card" id="winCard">
            WIN
            <div class="win-strike" id="winStrike"></div>
          </div>
          <div class="goal-pills" id="goalPills">
            <div class="pill">ALIGN FAST</div>
            <div class="pill">SHIP CLEAN</div>
          </div>
        </div>
      </div>

      <!-- Scene 5: Playbook -->
      <div class="scene-layer" id="playbookLayer">
        <div class="playbook">
          <div class="step-card" id="step1">
            <div class="step-title">1) Ask for the one thing</div>
            <div class="step-quote">“What’s the biggest issue if we fix it right now?”</div>
          </div>
          <div class="step-card" id="step2">
            <div class="step-title">2) Repeat it back</div>
            <div class="step-quote">“Got it — so the concern is X, because Y?”</div>
          </div>
          <div class="step-card" id="step3">
            <div class="step-title">3) Commit to a timeline</div>
            <div class="step-quote">“I’ll fix this, resend, and flag anything else that still looks off.”</div>
          </div>
          <div class="step-card" id="step4">
            <div class="step-title">4) Send a recap</div>
            <div class="step-quote">“What changed, why it changed, what you want confirmed.”</div>
            <div class="step-sub">What changed / why / confirm</div>
          </div>
        </div>
      </div>

      <!-- Scene 6: Wrap + CTA -->
      <div class="scene-layer" id="wrapLayer">
        <div class="wrap">
          <div class="wrap-tags">
            <div class="wrap-tag" id="wrapTag1">Ask for the one thing.</div>
            <div class="wrap-tag" id="wrapTag2">Repeat it back.</div>
            <div class="wrap-tag" id="wrapTag3">Ship clean work.</div>
          </div>
          <div class="cta" id="cta">Practice IB stress-tests at 1learner.com</div>
        </div>
      </div>
    </div>

    <!-- Layer 2: Blue panel with IB CLINIC -->
    <div class="blue-panel" id="bluePanel">
      <div class="title">IB CLINIC</div>
    </div>

    <!-- Layer 3: Wall Street Image -->
    <div class="wallstreet-container" id="wallstreetContainer">
      <img src="../image.png" alt="Wall Street" class="wallstreet-img" id="wallstreetImg">
    </div>
  </div>

  <div class="controls">
    <button class="btn" onclick="replay()">▶ Play All</button>
    <button class="btn" id="speedBtn" onclick="toggleSpeed()">1x</button>
  </div>

  <div class="side-nav">
    <button class="side-btn" onclick="jumpTo(1)">1. Setup</button>
    <button class="side-btn" onclick="jumpTo(2)">2. MCQ</button>
    <button class="side-btn" onclick="jumpTo(3)">3. Reality</button>
    <button class="side-btn" onclick="jumpTo(4)">4. Goal</button>
    <button class="side-btn" onclick="jumpTo(5)">5. Playbook</button>
    <button class="side-btn" onclick="jumpTo(6)">6. Wrap</button>
  </div>

  <script>
    let speed = 1;

    function toggleSpeed() {
      speed = speed === 1 ? 3 : 1;
      document.getElementById('speedBtn').textContent = speed + 'x';
    }

    function t(ms) {
      return ms / speed;
    }

    function animate() {
      const wallstreetContainer = document.getElementById('wallstreetContainer');
      const wallstreetImg = document.getElementById('wallstreetImg');
      const bluePanel = document.getElementById('bluePanel');
      const bullet1 = document.getElementById('bullet1');
      const bullet2 = document.getElementById('bullet2');
      const spreadsheet = document.getElementById('spreadsheet');
      const callout1 = document.getElementById('callout1');
      const callout2 = document.getElementById('callout2');
      const callout3 = document.getElementById('callout3');
      const mcqContainer = document.getElementById('mcqContainer');
      const mcqQuestion = document.getElementById('mcqQuestion');
      const optionA = document.getElementById('optionA');
      const optionB = document.getElementById('optionB');
      const optionC = document.getElementById('optionC');

      const realityLayer = document.getElementById('realityLayer');
      const realityTitle = document.getElementById('realityTitle');
      const realityCard1 = document.getElementById('realityCard1');
      const realityCard2 = document.getElementById('realityCard2');
      const realityCard3 = document.getElementById('realityCard3');
      const handoff = document.getElementById('handoff');
      const ha1 = document.getElementById('ha1');
      const ha2 = document.getElementById('ha2');
      const ha3 = document.getElementById('ha3');
      const ha4 = document.getElementById('ha4');
      const ha5 = document.getElementById('ha5');

      const goalLayer = document.getElementById('goalLayer');
      const winCard = document.getElementById('winCard');
      const winStrike = document.getElementById('winStrike');
      const goalPills = document.getElementById('goalPills');

      const playbookLayer = document.getElementById('playbookLayer');
      const step1 = document.getElementById('step1');
      const step2 = document.getElementById('step2');
      const step3 = document.getElementById('step3');
      const step4 = document.getElementById('step4');

      const wrapLayer = document.getElementById('wrapLayer');
      const wrapTag1 = document.getElementById('wrapTag1');
      const wrapTag2 = document.getElementById('wrapTag2');
      const wrapTag3 = document.getElementById('wrapTag3');
      const cta = document.getElementById('cta');

      // Get swipe containers
      const textContent = document.querySelector('.text-content');
      const calloutContainer = document.querySelector('.callout-container');

      // Reset
      wallstreetContainer.classList.remove('animate-exit');
      wallstreetImg.classList.remove('animate-pan');
      bluePanel.classList.remove('animate-exit');
      bullet1.classList.remove('animate');
      bullet2.classList.remove('animate');
      spreadsheet.classList.remove('animate');
      callout1.classList.remove('animate');
      callout2.classList.remove('animate');
      callout3.classList.remove('animate');
      mcqContainer.classList.remove('active');
      mcqQuestion.classList.remove('animate');
      optionA.classList.remove('animate');
      optionB.classList.remove('animate');
      optionC.classList.remove('animate');
      
      realityLayer.classList.remove('active');
      realityTitle.classList.remove('animate');
      realityCard1.classList.remove('animate');
      realityCard2.classList.remove('animate');
      realityCard3.classList.remove('animate');
      handoff.classList.remove('animate');
      ha1.classList.remove('draw');
      ha2.classList.remove('draw');
      ha3.classList.remove('draw');
      ha4.classList.remove('draw');
      ha5.classList.remove('draw');

      goalLayer.classList.remove('active');
      winCard.classList.remove('animate');
      winStrike.classList.remove('draw');
      goalPills.classList.remove('animate');

      playbookLayer.classList.remove('active');
      step1.classList.remove('animate');
      step2.classList.remove('animate');
      step3.classList.remove('animate');
      step4.classList.remove('animate');

      wrapLayer.classList.remove('active');
      wrapTag1.classList.remove('animate');
      wrapTag2.classList.remove('animate');
      wrapTag3.classList.remove('animate');
      cta.classList.remove('animate');
      
      // Reset swipe-out
      textContent.classList.remove('swipe-out');
      spreadsheet.classList.remove('swipe-out');
      calloutContainer.classList.remove('swipe-out');

      // Trigger reflow
      void wallstreetImg.offsetWidth;

      // Timeline (matches scripts/video_script1.md)
      // Scene 1: Setup
      setTimeout(() => wallstreetImg.classList.add('animate-pan'), 0);
      setTimeout(() => wallstreetContainer.classList.add('animate-exit'), t(2500));
      setTimeout(() => bluePanel.classList.add('animate-exit'), t(4000));
      setTimeout(() => bullet1.classList.add('animate'), t(4800));
      setTimeout(() => bullet2.classList.add('animate'), t(5600));

      // Spreadsheet segment (after bullets)
      setTimeout(() => spreadsheet.classList.add('animate'), t(6400));
      setTimeout(() => callout1.classList.add('animate'), t(6800));
      setTimeout(() => callout2.classList.add('animate'), t(7050));
      setTimeout(() => callout3.classList.add('animate'), t(7300));

      // Scene 2: MCQ (swipe away bullets + spreadsheet + callouts; show MCQ)
      setTimeout(() => {
        textContent.classList.add('swipe-out');
        spreadsheet.classList.add('swipe-out');
        calloutContainer.classList.add('swipe-out');
      }, t(7600));
      setTimeout(() => {
        mcqContainer.classList.add('active');
        mcqQuestion.classList.add('animate');
      }, t(8100));
      setTimeout(() => optionA.classList.add('animate'), t(8800));
      setTimeout(() => optionB.classList.add('animate'), t(9100));
      setTimeout(() => optionC.classList.add('animate'), t(9400));

      // Scene 3: Reality (hide MCQ, show reality layer)
      setTimeout(() => {
        mcqContainer.classList.remove('active');
      }, t(15500));
      setTimeout(() => {
        realityLayer.classList.add('active');
        realityTitle.classList.add('animate');
      }, t(16200));
      setTimeout(() => realityCard1.classList.add('animate'), t(16900));
      setTimeout(() => realityCard2.classList.add('animate'), t(17100));
      setTimeout(() => realityCard3.classList.add('animate'), t(17300));
      setTimeout(() => {
        handoff.classList.add('animate');
        ha1.classList.add('draw');
      }, t(18000));
      setTimeout(() => ha2.classList.add('draw'), t(18200));
      setTimeout(() => ha3.classList.add('draw'), t(18400));
      setTimeout(() => ha4.classList.add('draw'), t(18600));
      setTimeout(() => ha5.classList.add('draw'), t(18800));

      // Scene 4: Goal
      setTimeout(() => {
        realityLayer.classList.remove('active');
        goalLayer.classList.add('active');
      }, t(24000));
      setTimeout(() => winCard.classList.add('animate'), t(24500));
      setTimeout(() => winStrike.classList.add('draw'), t(25100));
      setTimeout(() => goalPills.classList.add('animate'), t(25600));

      // Scene 5: Playbook
      setTimeout(() => {
        goalLayer.classList.remove('active');
        playbookLayer.classList.add('active');
      }, t(30000));
      setTimeout(() => step1.classList.add('animate'), t(30300));
      setTimeout(() => step2.classList.add('animate'), t(35000));
      setTimeout(() => step3.classList.add('animate'), t(39500));
      setTimeout(() => step4.classList.add('animate'), t(45000));

      // Scene 6: Wrap + CTA
      setTimeout(() => {
        playbookLayer.classList.remove('active');
        wrapLayer.classList.add('active');
      }, t(52000));
      setTimeout(() => wrapTag1.classList.add('animate'), t(52500));
      setTimeout(() => wrapTag2.classList.add('animate'), t(52700));
      setTimeout(() => wrapTag3.classList.add('animate'), t(52900));
      setTimeout(() => cta.classList.add('animate'), t(55000));
    }

    function replay() {
      animate();
    }

    function jumpTo(section) {
      const wallstreetContainer = document.getElementById('wallstreetContainer');
      const wallstreetImg = document.getElementById('wallstreetImg');
      const bluePanel = document.getElementById('bluePanel');
      const bullet1 = document.getElementById('bullet1');
      const bullet2 = document.getElementById('bullet2');
      const spreadsheet = document.getElementById('spreadsheet');
      const callout1 = document.getElementById('callout1');
      const callout2 = document.getElementById('callout2');
      const callout3 = document.getElementById('callout3');
      const mcqContainer = document.getElementById('mcqContainer');
      const mcqQuestion = document.getElementById('mcqQuestion');
      const optionA = document.getElementById('optionA');
      const optionB = document.getElementById('optionB');
      const optionC = document.getElementById('optionC');
      const realityLayer = document.getElementById('realityLayer');
      const realityTitle = document.getElementById('realityTitle');
      const realityCard1 = document.getElementById('realityCard1');
      const realityCard2 = document.getElementById('realityCard2');
      const realityCard3 = document.getElementById('realityCard3');
      const handoff = document.getElementById('handoff');
      const ha1 = document.getElementById('ha1');
      const ha2 = document.getElementById('ha2');
      const ha3 = document.getElementById('ha3');
      const ha4 = document.getElementById('ha4');
      const ha5 = document.getElementById('ha5');

      const goalLayer = document.getElementById('goalLayer');
      const winCard = document.getElementById('winCard');
      const winStrike = document.getElementById('winStrike');
      const goalPills = document.getElementById('goalPills');

      const playbookLayer = document.getElementById('playbookLayer');
      const step1 = document.getElementById('step1');
      const step2 = document.getElementById('step2');
      const step3 = document.getElementById('step3');
      const step4 = document.getElementById('step4');

      const wrapLayer = document.getElementById('wrapLayer');
      const wrapTag1 = document.getElementById('wrapTag1');
      const wrapTag2 = document.getElementById('wrapTag2');
      const wrapTag3 = document.getElementById('wrapTag3');
      const cta = document.getElementById('cta');

      // Kill all transitions for instant reset
      const allEls = [wallstreetContainer, bluePanel, bullet1, bullet2, spreadsheet, callout1, callout2, callout3];
      allEls.forEach(el => el.style.transition = 'none');

      // Get swipe containers
      const textContent = document.querySelector('.text-content');
      const calloutContainer = document.querySelector('.callout-container');

      // Reset classes
      wallstreetContainer.classList.remove('animate-exit');
      wallstreetImg.classList.remove('animate-pan');
      bluePanel.classList.remove('animate-exit');
      bullet1.classList.remove('animate');
      bullet2.classList.remove('animate');
      spreadsheet.classList.remove('animate');
      callout1.classList.remove('animate');
      callout2.classList.remove('animate');
      callout3.classList.remove('animate');
      mcqContainer.classList.remove('active');
      mcqQuestion.classList.remove('animate');
      optionA.classList.remove('animate');
      optionB.classList.remove('animate');
      optionC.classList.remove('animate');
      realityLayer.classList.remove('active');
      realityTitle.classList.remove('animate');
      realityCard1.classList.remove('animate');
      realityCard2.classList.remove('animate');
      realityCard3.classList.remove('animate');
      handoff.classList.remove('animate');
      ha1.classList.remove('draw');
      ha2.classList.remove('draw');
      ha3.classList.remove('draw');
      ha4.classList.remove('draw');
      ha5.classList.remove('draw');

      goalLayer.classList.remove('active');
      winCard.classList.remove('animate');
      winStrike.classList.remove('draw');
      goalPills.classList.remove('animate');

      playbookLayer.classList.remove('active');
      step1.classList.remove('animate');
      step2.classList.remove('animate');
      step3.classList.remove('animate');
      step4.classList.remove('animate');

      wrapLayer.classList.remove('active');
      wrapTag1.classList.remove('animate');
      wrapTag2.classList.remove('animate');
      wrapTag3.classList.remove('animate');
      cta.classList.remove('animate');
      
      // Reset swipe-out
      textContent.classList.remove('swipe-out');
      spreadsheet.classList.remove('swipe-out');
      calloutContainer.classList.remove('swipe-out');

      // Reset transforms
      wallstreetContainer.style.transform = '';
      bluePanel.style.transform = '';

      // Reset opacity
      [bullet1, bullet2, spreadsheet, callout1, callout2, callout3].forEach(el => {
        el.style.opacity = '';
        el.style.transition = '';
      });

      // Force reflow
      void wallstreetContainer.offsetWidth;

      // Re-enable transitions
      allEls.forEach(el => el.style.transition = '');

      // Highlight active button
      document.querySelectorAll('.side-btn').forEach((btn, i) => {
        btn.classList.toggle('active', i === section - 1);
      });

      // Common base for sections 2+
      if (section >= 2) {
        wallstreetContainer.style.transform = 'translateY(100%)';
        bluePanel.style.transform = 'translateX(100%)';
      }

      // SECTION 1: Setup (plays from start)
      if (section === 1) {
        setTimeout(() => wallstreetImg.classList.add('animate-pan'), 50);
        setTimeout(() => wallstreetContainer.classList.add('animate-exit'), 2550);
        setTimeout(() => bluePanel.classList.add('animate-exit'), 4000);
        setTimeout(() => bullet1.classList.add('animate'), 4800);
        setTimeout(() => bullet2.classList.add('animate'), 5600);
        setTimeout(() => spreadsheet.classList.add('animate'), 6400);
        setTimeout(() => callout1.classList.add('animate'), 6800);
        setTimeout(() => callout2.classList.add('animate'), 7050);
        setTimeout(() => callout3.classList.add('animate'), 7300);
      }

      // SECTION 2: MCQ
      if (section === 2) {
        mcqContainer.classList.add('active');
        mcqQuestion.classList.add('animate');
        setTimeout(() => optionA.classList.add('animate'), 300);
        setTimeout(() => optionB.classList.add('animate'), 500);
        setTimeout(() => optionC.classList.add('animate'), 700);
      }

      // SECTION 3: Reality
      if (section === 3) {
        realityLayer.classList.add('active');
        realityTitle.classList.add('animate');
        setTimeout(() => realityCard1.classList.add('animate'), 300);
        setTimeout(() => realityCard2.classList.add('animate'), 500);
        setTimeout(() => realityCard3.classList.add('animate'), 700);
        setTimeout(() => {
          handoff.classList.add('animate');
          ha1.classList.add('draw');
          ha2.classList.add('draw');
          ha3.classList.add('draw');
          ha4.classList.add('draw');
          ha5.classList.add('draw');
        }, 1000);
      }

      // SECTION 4: Goal
      if (section === 4) {
        goalLayer.classList.add('active');
        setTimeout(() => winCard.classList.add('animate'), 200);
        setTimeout(() => winStrike.classList.add('draw'), 700);
        setTimeout(() => goalPills.classList.add('animate'), 1100);
      }

      // SECTION 5: Playbook
      if (section === 5) {
        playbookLayer.classList.add('active');
        setTimeout(() => step1.classList.add('animate'), 200);
        setTimeout(() => step2.classList.add('animate'), 700);
        setTimeout(() => step3.classList.add('animate'), 1200);
        setTimeout(() => step4.classList.add('animate'), 1700);
      }

      // SECTION 6: Wrap
      if (section === 6) {
        wrapLayer.classList.add('active');
        setTimeout(() => wrapTag1.classList.add('animate'), 200);
        setTimeout(() => wrapTag2.classList.add('animate'), 400);
        setTimeout(() => wrapTag3.classList.add('animate'), 600);
        setTimeout(() => cta.classList.add('animate'), 1100);
      }
    }

    // Auto-start
    window.onload = () => setTimeout(animate, 500);
  </script>
</body>
</html>
