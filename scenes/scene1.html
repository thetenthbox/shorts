<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scene 1 - The Hook</title>
  <style>
    @import url('https://fonts.cdnfonts.com/css/cmu-serif');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: #1a1a1a;
      font-family: system-ui, -apple-system, sans-serif;
    }

    .shorts-container {
      width: 1080px;
      height: 1920px;
      position: relative;
      overflow: hidden;
      transform: scale(0.4);
      transform-origin: center center;
    }

    /* Layer 1: White backdrop with plus pattern (bottom) */
    .white-backdrop {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #fff;
      z-index: 1;
    }

    .text-content {
      position: absolute;
      top: 120px;
      left: 80px;
      right: 80px;
      z-index: 2;
      font-family: 'CMU Serif', Georgia, serif;
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
    }

    .text-content.swipe-out {
      transform: translateX(-100%);
      opacity: 0;
    }

    .bullet {
      display: flex;
      gap: 24px;
      margin-bottom: 50px;
      opacity: 0;
      transform: translateY(20px);
    }

    .bullet.animate {
      animation: fadeUp 0.5s ease-out forwards;
    }

    .bullet-dot {
      font-size: 48px;
      color: #374151;
      line-height: 1.4;
    }

    .bullet-text {
      font-size: 48px;
      color: #1f2937;
      line-height: 1.4;
    }

    .quote-text {
      font-style: italic;
    }

    /* Excel DCF Spreadsheet */
    .excel-container {
      position: absolute;
      top: 680px;
      left: 40px;
      right: 40px;
      z-index: 2;
      opacity: 0;
      transform: translateY(20px);
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
    }

    .excel-container.animate {
      animation: fadeUp 0.5s ease-out forwards;
    }

    .excel-container.swipe-out {
      transform: translateX(-100%) !important;
      opacity: 0 !important;
    }

    .spreadsheet {
      background: #fff;
      border: 2px solid #6b7280;
      font-family: 'Consolas', 'Courier New', monospace;
      font-size: 22px;
      border-collapse: collapse;
      width: 100%;
    }

    .spreadsheet td {
      border: 1px solid #d1d5db;
      padding: 12px 16px;
      color: #374151;
      text-align: right;
      min-width: 90px;
    }

    .spreadsheet td.label-col {
      text-align: left;
      background: #f9fafb;
      font-weight: 500;
      min-width: 200px;
    }

    .spreadsheet td.header {
      background: #e5e7eb;
      font-weight: 600;
      text-align: center;
    }

    .spreadsheet td.dash {
      color: #9ca3af;
    }

    /* Zoom-out callout cells */
    .callout-container {
      position: absolute;
      top: 680px;
      left: 40px;
      right: 40px;
      z-index: 3;
      pointer-events: none;
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
    }

    .callout-container.swipe-out {
      transform: translateX(-100%);
      opacity: 0;
    }

    .callout {
      position: absolute;
      display: flex;
      background: #fff;
      border: 3px solid #1e40af;
      border-radius: 8px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.2);
      opacity: 0;
      transform: scale(0.5);
      transform-origin: left center;
    }

    .callout.animate {
      animation: zoomOut 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .callout-label {
      background: #1e40af;
      color: #fff;
      padding: 20px 28px;
      font-family: 'Consolas', monospace;
      font-size: 36px;
      font-weight: 600;
    }

    .callout-value {
      background: #fff;
      color: #1e40af;
      padding: 20px 28px;
      font-family: 'Consolas', monospace;
      font-size: 36px;
      font-weight: 700;
    }

    .callout-1 { top: 60px; left: 50px; }
    .callout-2 { top: 200px; left: 120px; }
    .callout-3 { top: 340px; left: 80px; }

    /* MCQ Question Section */
    .mcq-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 80px;
      z-index: 4;
      opacity: 0;
      pointer-events: none;
    }

    .mcq-container.active {
      opacity: 1;
      pointer-events: auto;
    }

    .mcq-question {
      font-family: 'CMU Serif', Georgia, serif;
      font-size: 52px;
      color: #1f2937;
      text-align: center;
      max-width: 900px;
      margin-bottom: 80px;
      line-height: 1.3;
      opacity: 0;
      transform: translateY(8px);
    }

    .mcq-question.animate {
      animation: fadeUp 0.4s ease-out forwards;
    }

    .mcq-options {
      display: flex;
      flex-direction: column;
      gap: 24px;
      width: 100%;
      max-width: 900px;
    }

    .mcq-option {
      background: #fff;
      border: 2px solid #d1d5db;
      border-radius: 12px;
      padding: 28px 36px;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 36px;
      color: #374151;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      opacity: 0;
      transform: scale(0.95);
      cursor: pointer;
      transition: all 0.2s;
    }

    .mcq-option:hover {
      border-color: #1e40af;
      box-shadow: 0 4px 12px rgba(30,64,175,0.15);
    }

    .mcq-option.animate {
      animation: popIn 0.25s ease-out forwards;
    }

    .mcq-label {
      font-weight: 700;
      color: #1e40af;
      margin-right: 12px;
    }

    @keyframes zoomOut {
      0% {
        opacity: 0;
        transform: scale(0.5);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes popIn {
      0% {
        opacity: 0;
        transform: scale(0.9);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes fadeUp {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .plus-pattern {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(#d1d5db 1px, transparent 1px),
        linear-gradient(90deg, #d1d5db 1px, transparent 1px);
      background-size: 80px 80px;
      opacity: 0.5;
    }

    .plus-pattern::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: radial-gradient(circle, #9ca3af 3px, transparent 3px);
      background-size: 80px 80px;
      background-position: 40px 40px;
    }

    /* Layer 2: Blue panel with IB CLINIC */
    .blue-panel {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #1e3a5f;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 5;
    }

    .blue-panel.animate-exit {
      animation: slideOutRight 0.6s ease-in-out forwards;
    }

    .title {
      font-size: 140px;
      font-weight: 800;
      color: #fff;
      text-transform: uppercase;
      letter-spacing: 10px;
    }

    @keyframes slideOutRight {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(100%);
      }
    }

    /* Layer 3: Wall Street Image (top) */
    .wallstreet-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: 10;
    }

    .wallstreet-img {
      position: absolute;
      top: 0;
      left: 0;
      width: 200%;
      height: 100%;
      object-fit: cover;
      object-position: left center;
      transform: scale(1.3);
      transform-origin: center center;
      filter: brightness(0.8);
    }

    .wallstreet-img.animate-pan {
      animation: panRight 2.5s ease-in-out forwards;
    }

    .wallstreet-container.animate-exit {
      animation: slideOutDown 0.6s ease-in-out forwards;
    }

    @keyframes panRight {
      0% {
        transform: scale(1.3) translateX(0);
      }
      100% {
        transform: scale(1.4) translateX(-15%);
      }
    }

    @keyframes slideOutDown {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(100%);
      }
    }

    /* Controls */
    .controls {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 100;
    }

    .btn {
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 600;
      background: #1e3a5f;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s, background 0.2s;
    }

    .btn:hover {
      transform: scale(1.05);
    }

    /* Side navigation */
    .side-nav {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 100;
    }

    .side-btn {
      width: 140px;
      padding: 10px 14px;
      font-size: 12px;
      font-weight: 600;
      background: #374151;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      text-align: left;
      transition: background 0.2s;
    }

    .side-btn:hover {
      background: #1e3a5f;
    }

    .side-btn.active {
      background: #1e40af;
    }
  </style>
</head>
<body>
  <div class="shorts-container">
    <!-- Layer 1: White backdrop with plus pattern -->
    <div class="white-backdrop">
      <div class="plus-pattern"></div>
      <div class="text-content">
        <div class="bullet" id="bullet1">
          <span class="bullet-dot">•</span>
          <span class="bullet-text">You're at a Bulge Bracket firm. An Associate is aggressively shredding your valuation.</span>
        </div>
        <div class="bullet" id="bullet2">
          <span class="bullet-dot">•</span>
          <span class="bullet-text">He says <span class="quote-text">"The model is completely wrong."</span></span>
        </div>
      </div>

      <!-- DCF Spreadsheet -->
      <div class="excel-container" id="spreadsheet">
        <table class="spreadsheet">
          <tr>
            <td class="header"></td>
            <td class="header">2024</td>
            <td class="header">2025</td>
            <td class="header">2026</td>
            <td class="header">2027</td>
            <td class="header">2028</td>
          </tr>
          <tr>
            <td class="label-col">Revenue</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">EBITDA</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">FCF</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">Discount Factor</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">PV of FCF</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
          <tr>
            <td class="label-col">Terminal Value</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
            <td class="dash">—</td>
          </tr>
        </table>
      </div>

      <!-- Zoom-out callouts -->
      <div class="callout-container">
        <div class="callout callout-1" id="callout1">
          <div class="callout-label">WACC</div>
          <div class="callout-value">9.5%</div>
        </div>
        <div class="callout callout-2" id="callout2">
          <div class="callout-label">Exit Multiple</div>
          <div class="callout-value">8.0x</div>
        </div>
        <div class="callout callout-3" id="callout3">
          <div class="callout-label">Growth Rate</div>
          <div class="callout-value">3.0%</div>
        </div>
      </div>

      <!-- MCQ Section -->
      <div class="mcq-container" id="mcqContainer">
        <div class="mcq-question" id="mcqQuestion">
          What would you do if you were pressed by a more senior colleague?
        </div>
        <div class="mcq-options">
          <div class="mcq-option" id="optionA">
            <span class="mcq-label">A)</span>
            <span>Apologize and agree immediately to end the tension.</span>
          </div>
          <div class="mcq-option" id="optionB">
            <span class="mcq-label">B)</span>
            <span>Defend every assumption at once (talk faster, talk louder).</span>
          </div>
          <div class="mcq-option" id="optionC">
            <span class="mcq-label">C)</span>
            <span>Pause, isolate the exact critique, then walk through the logic calmly.</span>
          </div>
          <div class="mcq-option" id="optionD">
            <span class="mcq-label">D)</span>
            <span>Deflect: "That's just how the template works" and move on.</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Layer 2: Blue panel with IB CLINIC -->
    <div class="blue-panel" id="bluePanel">
      <div class="title">IB CLINIC</div>
    </div>

    <!-- Layer 3: Wall Street Image -->
    <div class="wallstreet-container" id="wallstreetContainer">
      <img src="image.png" alt="Wall Street" class="wallstreet-img" id="wallstreetImg">
    </div>
  </div>

  <div class="controls">
    <button class="btn" onclick="replay()">▶ Play All</button>
    <button class="btn" id="speedBtn" onclick="toggleSpeed()">1x</button>
  </div>

  <div class="side-nav">
    <button class="side-btn" onclick="jumpTo(1)">1. Wall Street</button>
    <button class="side-btn" onclick="jumpTo(2)">2. IB Clinic</button>
    <button class="side-btn" onclick="jumpTo(3)">3. Bullets</button>
    <button class="side-btn" onclick="jumpTo(4)">4. Spreadsheet</button>
    <button class="side-btn" onclick="jumpTo(5)">5. Callouts</button>
    <button class="side-btn" onclick="jumpTo(6)">6. MCQ</button>
  </div>

  <script>
    let speed = 1;

    function toggleSpeed() {
      speed = speed === 1 ? 3 : 1;
      document.getElementById('speedBtn').textContent = speed + 'x';
    }

    function t(ms) {
      return ms / speed;
    }

    function animate() {
      const wallstreetContainer = document.getElementById('wallstreetContainer');
      const wallstreetImg = document.getElementById('wallstreetImg');
      const bluePanel = document.getElementById('bluePanel');
      const bullet1 = document.getElementById('bullet1');
      const bullet2 = document.getElementById('bullet2');
      const spreadsheet = document.getElementById('spreadsheet');
      const callout1 = document.getElementById('callout1');
      const callout2 = document.getElementById('callout2');
      const callout3 = document.getElementById('callout3');
      const mcqContainer = document.getElementById('mcqContainer');
      const mcqQuestion = document.getElementById('mcqQuestion');
      const optionA = document.getElementById('optionA');
      const optionB = document.getElementById('optionB');
      const optionC = document.getElementById('optionC');
      const optionD = document.getElementById('optionD');

      // Get swipe containers
      const textContent = document.querySelector('.text-content');
      const calloutContainer = document.querySelector('.callout-container');

      // Reset
      wallstreetContainer.classList.remove('animate-exit');
      wallstreetImg.classList.remove('animate-pan');
      bluePanel.classList.remove('animate-exit');
      bullet1.classList.remove('animate');
      bullet2.classList.remove('animate');
      spreadsheet.classList.remove('animate');
      callout1.classList.remove('animate');
      callout2.classList.remove('animate');
      callout3.classList.remove('animate');
      mcqContainer.classList.remove('active');
      mcqQuestion.classList.remove('animate');
      optionA.classList.remove('animate');
      optionB.classList.remove('animate');
      optionC.classList.remove('animate');
      optionD.classList.remove('animate');
      
      // Reset swipe-out
      textContent.classList.remove('swipe-out');
      spreadsheet.classList.remove('swipe-out');
      calloutContainer.classList.remove('swipe-out');

      // Trigger reflow
      void wallstreetImg.offsetWidth;

      // Timeline
      // 0.0s - Start pan
      setTimeout(() => wallstreetImg.classList.add('animate-pan'), 0);

      // 2.5s - Wall Street slides down → reveals blue "IB CLINIC"
      setTimeout(() => wallstreetContainer.classList.add('animate-exit'), t(2500));

      // 4.0s - Blue panel slides right → reveals white plus pattern
      setTimeout(() => bluePanel.classList.add('animate-exit'), t(4000));

      // 4.8s - First bullet appears
      setTimeout(() => bullet1.classList.add('animate'), t(4800));

      // 5.6s - Second bullet appears
      setTimeout(() => bullet2.classList.add('animate'), t(5600));

      // 6.4s - DCF spreadsheet fades in
      setTimeout(() => spreadsheet.classList.add('animate'), t(6400));

      // 7.2s - Callout 1: WACC zooms out
      setTimeout(() => callout1.classList.add('animate'), t(7200));

      // 8.0s - Callout 2: Exit Multiple zooms out
      setTimeout(() => callout2.classList.add('animate'), t(8000));

      // 8.8s - Callout 3: Growth Rate zooms out
      setTimeout(() => callout3.classList.add('animate'), t(8800));

      // 9.6s - Swipe out all content
      setTimeout(() => {
        const textContent = document.querySelector('.text-content');
        const excelContainer = document.getElementById('spreadsheet');
        const calloutContainer = document.querySelector('.callout-container');
        textContent.classList.add('swipe-out');
        excelContainer.classList.add('swipe-out');
        calloutContainer.classList.add('swipe-out');
      }, t(9600));

      // 10.2s - Show MCQ
      setTimeout(() => {
        mcqContainer.classList.add('active');
        mcqQuestion.classList.add('animate');
      }, t(10200));

      // 10.6s - Options appear (staggered)
      setTimeout(() => optionA.classList.add('animate'), t(10600));
      setTimeout(() => optionB.classList.add('animate'), t(10800));
      setTimeout(() => optionC.classList.add('animate'), t(11000));
      setTimeout(() => optionD.classList.add('animate'), t(11200));
    }

    function replay() {
      animate();
    }

    function jumpTo(section) {
      const wallstreetContainer = document.getElementById('wallstreetContainer');
      const wallstreetImg = document.getElementById('wallstreetImg');
      const bluePanel = document.getElementById('bluePanel');
      const bullet1 = document.getElementById('bullet1');
      const bullet2 = document.getElementById('bullet2');
      const spreadsheet = document.getElementById('spreadsheet');
      const callout1 = document.getElementById('callout1');
      const callout2 = document.getElementById('callout2');
      const callout3 = document.getElementById('callout3');
      const mcqContainer = document.getElementById('mcqContainer');
      const mcqQuestion = document.getElementById('mcqQuestion');
      const optionA = document.getElementById('optionA');
      const optionB = document.getElementById('optionB');
      const optionC = document.getElementById('optionC');
      const optionD = document.getElementById('optionD');

      // Kill all transitions for instant reset
      const allEls = [wallstreetContainer, bluePanel, bullet1, bullet2, spreadsheet, callout1, callout2, callout3];
      allEls.forEach(el => el.style.transition = 'none');

      // Get swipe containers
      const textContent = document.querySelector('.text-content');
      const calloutContainer = document.querySelector('.callout-container');

      // Reset classes
      wallstreetContainer.classList.remove('animate-exit');
      wallstreetImg.classList.remove('animate-pan');
      bluePanel.classList.remove('animate-exit');
      bullet1.classList.remove('animate');
      bullet2.classList.remove('animate');
      spreadsheet.classList.remove('animate');
      callout1.classList.remove('animate');
      callout2.classList.remove('animate');
      callout3.classList.remove('animate');
      mcqContainer.classList.remove('active');
      mcqQuestion.classList.remove('animate');
      optionA.classList.remove('animate');
      optionB.classList.remove('animate');
      optionC.classList.remove('animate');
      optionD.classList.remove('animate');
      
      // Reset swipe-out
      textContent.classList.remove('swipe-out');
      spreadsheet.classList.remove('swipe-out');
      calloutContainer.classList.remove('swipe-out');

      // Reset transforms
      wallstreetContainer.style.transform = '';
      bluePanel.style.transform = '';

      // Reset opacity
      [bullet1, bullet2, spreadsheet, callout1, callout2, callout3].forEach(el => {
        el.style.opacity = '';
        el.style.transition = '';
      });

      // Force reflow
      void wallstreetContainer.offsetWidth;

      // Re-enable transitions
      allEls.forEach(el => el.style.transition = '');

      // Highlight active button
      document.querySelectorAll('.side-btn').forEach((btn, i) => {
        btn.classList.toggle('active', i === section - 1);
      });

      // SECTION 1: Wall Street - show image, play pan
      if (section === 1) {
        setTimeout(() => wallstreetImg.classList.add('animate-pan'), 50);
        setTimeout(() => wallstreetContainer.classList.add('animate-exit'), 2550);
      }

      // SECTION 2: IB Clinic - hide wall street, show blue panel
      if (section === 2) {
        wallstreetContainer.style.transform = 'translateY(100%)';
      }

      // SECTION 3: Bullets - hide both overlays, show bullets
      if (section === 3) {
        wallstreetContainer.style.transform = 'translateY(100%)';
        bluePanel.style.transform = 'translateX(100%)';
        setTimeout(() => bullet1.classList.add('animate'), 100);
        setTimeout(() => bullet2.classList.add('animate'), 600);
      }

      // SECTION 4: Spreadsheet - show bullets + spreadsheet
      if (section === 4) {
        wallstreetContainer.style.transform = 'translateY(100%)';
        bluePanel.style.transform = 'translateX(100%)';
        bullet1.classList.add('animate');
        bullet2.classList.add('animate');
        setTimeout(() => spreadsheet.classList.add('animate'), 100);
      }

      // SECTION 5: Callouts - show bullets + spreadsheet + callouts
      if (section === 5) {
        wallstreetContainer.style.transform = 'translateY(100%)';
        bluePanel.style.transform = 'translateX(100%)';
        bullet1.classList.add('animate');
        bullet2.classList.add('animate');
        spreadsheet.classList.add('animate');
        setTimeout(() => callout1.classList.add('animate'), 100);
        setTimeout(() => callout2.classList.add('animate'), 600);
        setTimeout(() => callout3.classList.add('animate'), 1100);
      }

      // SECTION 6: MCQ - swipe away content, show MCQ
      if (section === 6) {
        wallstreetContainer.style.transform = 'translateY(100%)';
        bluePanel.style.transform = 'translateX(100%)';
        // Show content first then swipe it away
        bullet1.classList.add('animate');
        bullet2.classList.add('animate');
        spreadsheet.classList.add('animate');
        callout1.classList.add('animate');
        callout2.classList.add('animate');
        callout3.classList.add('animate');
        // Swipe out after a brief moment
        setTimeout(() => {
          textContent.classList.add('swipe-out');
          spreadsheet.classList.add('swipe-out');
          calloutContainer.classList.add('swipe-out');
        }, 100);
        // Show MCQ
        setTimeout(() => {
          mcqContainer.classList.add('active');
          mcqQuestion.classList.add('animate');
        }, 600);
        setTimeout(() => optionA.classList.add('animate'), 1000);
        setTimeout(() => optionB.classList.add('animate'), 1200);
        setTimeout(() => optionC.classList.add('animate'), 1400);
        setTimeout(() => optionD.classList.add('animate'), 1600);
      }
    }

    // Auto-start
    window.onload = () => setTimeout(animate, 500);
  </script>
</body>
</html>
